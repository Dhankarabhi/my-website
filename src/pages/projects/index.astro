---
// src/pages/projects/index.astro
import '../../styles/global.css'
import Layout from "../../layouts/Layout.astro";
import AppHeader from '../../components/Header.astro';
import AppFooter from '../../components/Footer.astro';
import CallToAction from '../../components/CallToAction.astro';
import Bars from '../../components/Bars.astro';
import { getAllProjects } from '../../projectData.ts';

import svgUnderline from '../../assets/underline.svg'
import svgPinkStar from '../../assets/pink-star.svg'
import arrowCard from '../../assets/arrow-card.svg'

const projects = getAllProjects();
---

<Layout>
<AppHeader />

<section class="py-20 px-5 relative overflow-hidden">
  <img src={svgPinkStar.src} alt="svg" width="60" class="absolute -right-6 top-10" />
  <img src={svgPinkStar.src} alt="svg" width="40" class="absolute left-10 bottom-20" />
  
  <div class="max-w-5xl mx-auto">
    <!-- Page Header -->
    <div class="text-center mb-15 relative">
      <h1 class="text-5xl font-bold mb-4">My DevOps Projects</h1>
      <img src={svgUnderline.src} alt="underline" width="200" class="absolute left-1/2 -translate-x-1/2 -bottom-2" />
      <p class="text-xl text-gray-700 mt-6 max-w-2xl mx-auto">
        Explore my DevOps and cloud infrastructure projects showcasing automation, containerization, monitoring, and scalable solutions.
      </p>
    </div>

    <!-- Projects Grid -->
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-8 mb-15">
      {projects.map(project => (
        <div class="bg-white border-3 shadow-[6px_6px_0px_rgba(0,0,0,0.3)] group hover:shadow-[12px_12px_0px_rgba(0,0,0,0.3)] hover:-translate-y-2 transition-all duration-300 relative overflow-hidden">
          <Bars />
          
          <!-- Project Image -->
          <div class="w-full h-[250px] overflow-hidden border-b-3">
            <img src={project.mainImage} alt={project.name} class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-500" />
          </div>

          <!-- Project Content -->
          <div class="p-6">
            <!-- Tech Stack Tags -->
            <div class="flex flex-wrap gap-2 mb-4">
              {project.technologies.slice(0, 4).map(tech => (
                <span class="px-2 py-1 bg-[var(--yellow)] border border-black text-xs font-medium">
                  {tech}
                </span>
              ))}
              {project.technologies.length > 4 && (
                <span class="px-2 py-1 bg-gray-100 border border-black text-xs font-medium">
                  +{project.technologies.length - 4} more
                </span>
              )}
            </div>

            <!-- Project Title & Description -->
            <h2 class="text-2xl font-bold mb-3 group-hover:text-blue-600 transition-colors duration-200">{project.name}</h2>
            <p class="text-gray-700 mb-4 line-clamp-3">{project.description}</p>

            <!-- Stats -->
            <div class="grid grid-cols-3 gap-3 mb-6 text-center">
              <div class="bg-gray-50 border border-black p-2">
                <div class="text-sm font-bold text-[var(--blue)]">{project.stats.duration}</div>
                <div class="text-xs text-gray-600">Duration</div>
              </div>
              <div class="bg-gray-50 border border-black p-2">
                <div class="text-sm font-bold text-[var(--blue)]">{project.stats.complexity}</div>
                <div class="text-xs text-gray-600">Level</div>
              </div>
              <div class="bg-gray-50 border border-black p-2">
                <div class="text-sm font-bold text-[var(--blue)]">{project.stats.impact}</div>
                <div class="text-xs text-gray-600">Impact</div>
              </div>
            </div>

            <!-- Action Buttons -->
            <div class="flex gap-3">
              <a href={`/projects/${project.id}`} class="flex-1 bg-black text-white text-center py-3 px-4 font-medium border-2 border-black hover:bg-white hover:text-black transition-colors duration-200">
                View Details
              </a>
              <a href={project.liveUrl} target="_blank" class="flex items-center justify-center w-12 h-12 bg-[var(--yellow)] border-2 border-black hover:bg-white transition-colors duration-200">
                <img src={arrowCard.src} alt="external link" width="20" />
              </a>
            </div>
          </div>
        </div>
      ))}
    </div>

    <!-- Additional Info Section -->
    <div class="bg-white border-3 p-8 text-center relative">
      <h2 class="text-3xl font-bold mb-4">Ready to Collaborate?</h2>
      <p class="text-lg text-gray-700 mb-6 max-w-2xl mx-auto">
        These projects represent my expertise in DevOps, cloud infrastructure, and automation. 
        Let's discuss how I can help streamline your development and deployment processes.
      </p>
      <div class="flex flex-col sm:flex-row gap-4 justify-center">
        <a href="mailto:abhishekchoudhary2440@gmail.com" class="px-6 py-3 bg-[var(--blue)] text-black font-medium border-2 border-black hover:bg-[var(--yellow)] transition-colors duration-200">
          Discuss a Project
        </a>
        <a href="/#work" class="px-6 py-3 bg-white text-black font-medium border-2 border-black hover:bg-gray-100 transition-colors duration-200">
          Back to Portfolio
        </a>
      </div>
      
      <img src={svgPinkStar.src} alt="star" width="50" class="absolute -top-5 -right-5" />
    </div>
  </div>
</section>

<CallToAction />
<AppFooter />
</Layout>